(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9117],{39574:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/transfer",function(){return n(11750)}])},19502:function(t,e,n){"use strict";n.d(e,{P:function(){return c}});var r=n(85893),i=n(92634),s=n(21820),o=n.n(s),a=n(67294);function c(t){let{onChange:e,value:n,children:s,style:c}=t,[l]=(0,i.F)(),d=(0,a.useCallback)(t=>{e(t),t.target.blur()},[e]);return(0,r.jsx)("select",{onChange:d,value:n,className:o().select,style:{backgroundImage:"url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24' fill='".concat(l.getText("primary").hex().replace("#","%23"),"'><path d='M0 0h24v24H0z' fill='none'/><path d='M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z'/></svg>\")"),...c},children:s})}},11750:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return j}});var r=n(85893),i=n(48043),s=n(19502),o=n(2816),a=n(17544),c=n(81125),l=n(53179),d=n(67294),m=n(8038),p=n.n(m),h=n(89867),u=n(23441),_=n(11090),g=n(82860),x=n(67421),f=n(19116);let w=["https://".concat(a.iC.toLowerCase(),"-music.specy.app"),"https://beta.".concat(a.iC.toLowerCase(),"-music.specy.app"),"https://specy.github.io/".concat(a.iC.toLowerCase(),"Music")];function j(){(0,f.o)("transfer");let{t}=(0,x.$G)(["transfer","common"]),[e,n]=(0,d.useState)(w[0]),[a,m]=(0,d.useState)([]),[p,j]=(0,d.useState)(),[y,k]=(0,d.useState)(null),C=(0,d.useCallback)(async()=>{let n=document.createElement("iframe");n.src=e,n.style.display="none",document.body.appendChild(n),l.kg.showPill(t("connecting_please_wait"));try{await new Promise((t,e)=>{n.onload=t,n.onerror=e}),j(""),k(null),await c.T.connect(n.contentWindow),console.log("connected");let t=await c.T.ask("getAppData",void 0);k(Array.isArray(t)?t:[t])}catch(e){l.kg.error(t("error_connecting")),j("Error fetching: ".concat(e))}return l.kg.hidePill(),n.remove(),()=>{l.kg.hidePill(),n.remove()}},[e,t]);return(0,d.useEffect)(()=>{let t=w.filter(t=>t!==window.location.origin);n(t[0]),m(t),(0,c.Q)().catch(console.error)},[]),(0,r.jsxs)(o.k,{children:[(0,r.jsx)(u.d,{text:"Import data",description:"A tool to import the data you have in other domains"}),(0,r.jsxs)("div",{className:"column",children:[(0,r.jsx)("h1",{children:t("import_data_from_other_domains_title")}),(0,r.jsx)("p",{style:{marginLeft:"1rem"},children:t("import_data_from_other_domains_description")}),(0,r.jsx)("h2",{children:t("select_a_website_to_import_data")}),(0,r.jsxs)("div",{className:"row",style:{gap:"0.5rem",marginLeft:"1rem"},children:[(0,r.jsx)(s.P,{value:e,style:{minWidth:"12rem"},onChange:t=>n(t.target.value),children:a.map(t=>(0,r.jsx)("option",{value:t,children:t.replace(/https?:\/\//g,"")},t))}),(0,r.jsx)(i.J,{cssVar:"accent",onClick:C,children:t("common:connect")})]}),y&&(0,r.jsxs)(r.Fragment,{children:[0===y.length&&(0,r.jsx)("h2",{children:t("no_data_to_import")}),y.length>0&&(0,r.jsx)(r.Fragment,{children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("h2",{children:[t("common:error"),":"]}),(0,r.jsx)("p",{children:p})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(g.s,{children:[(0,r.jsxs)(_.X,{align:"center",style:{gap:"1rem"},children:[(0,r.jsx)("h2",{children:t("data")}),(0,r.jsx)(i.J,{cssVar:"accent",onClick:async()=>{await h.bV.importAndLog(y),k([])},children:t("import_all")})]}),(0,r.jsx)(g.s,{style:{gap:"0.3rem"},children:y.map((t,e)=>{var n;return(0,r.jsx)(v,{data:t,onImport:async t=>{await h.bV.importAndLog(t),k(y.filter(e=>e!==t))}},null!==(n=t.id)&&void 0!==n?n:e)})})]})})})]})]})]})}function v(t){var e;let{data:n,onImport:s}=t,{t:o}=(0,x.$G)("common"),a="";return a="theme"===n.type?null===(e=n.other)||void 0===e?void 0:e.name:n.name,(0,r.jsxs)(_.X,{align:"center",className:p()["import-row"],children:[(0,r.jsx)("div",{className:p()["import-type"],children:n.type}),(0,r.jsx)(_.X,{padding:"0 0.5rem",children:a}),(0,r.jsx)(i.J,{cssVar:"accent",style:{marginLeft:"auto"},onClick:()=>s(n),children:o("import")})]})}},21820:function(t){t.exports={"instrument-picker":"Settings_instrument-picker__7I4Rw",select:"Settings_select__TfGwk","settings-group-title":"Settings_settings-group-title__ZP9Kk","settings-row":"Settings_settings-row__QAhCZ",invalid:"Settings_invalid__xvU6D","settings-input":"Settings_settings-input__TWACI","settings-input-button":"Settings_settings-input-button__AnhLi"}},8038:function(t){t.exports={"import-row":"transfer_import-row___fYxS","import-type":"transfer_import-type__sv_PT"}}},function(t){t.O(0,[2888,9774,179],function(){return t(t.s=39574)}),_N_E=t.O()}]);